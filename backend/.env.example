# Backend Environment Variables (.env.example)

# ============================================
# SERVER CONFIGURATION
# ============================================
NODE_ENV=development
PORT=5000
BASE_URL=http://localhost:5000
FRONTEND_URL=http://localhost:3000

# ============================================
# DATABASE CONFIGURATION (Supabase PostgreSQL)
# ============================================
# Get from: https://supabase.com/dashboard/project/_/settings/database
DATABASE_URL="postgresql://postgres.ievmlznmpafvhsrdkjhj:V5en2tfgkwIMugDz@aws-1-ap-south-1.pooler.supabase.com:5432/postgres"

# ============================================
# GOOGLE OAUTH CONFIGURATION
# ============================================
# Get from: https://console.cloud.google.com/apis/credentials
GOOGLE_CLIENT_ID=792610664211-0jsdfnneaqsu6o3qdq8jges89kf59us5.apps.googleusercontent.com
GOOGLE_CLIENT_SECRET=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

# Redirect URI (must match Google Console)
GOOGLE_REDIRECT_URI=http://localhost:5000/api/auth/google/callback

# ============================================
# JWT CONFIGURATION
# ============================================
# Generate with: node -e "console.log(require('crypto').randomBytes(64).toString('hex'))"
JWT_SECRET=uqvU/zlgNX/CK8fxNO32DYszrPHItXMCNCiyRvR7tz8B9QM93uyaMg7zuPR3v16MS7He9BHisKhO9455gdX9TA==
JWT_EXPIRE=7d
JWT_REFRESH_EXPIRE=30d

# ============================================
# SUPABASE STORAGE (for audio files)
# ============================================
# Get from: https://supabase.com/dashboard/project/_/settings/api
SUPABASE_URL=https://ievmlznmpafvhsrdkjhj.supabase.co
SUPABASE_ANON_KEY=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Imlldm1sem5tcGFmdmhzcmRramhqIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTk1MjM2OTIsImV4cCI6MjA3NTA5OTY5Mn0.83Vy-d-FT8ExDyFuWpEFiaWZ7c4GzzhwCuzlu0bVX0M
SUPABASE_SERVICE_KEY=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Imlldm1sem5tcGFmdmhzcmRramhqIiwicm9sZSI6InNlcnZpY2Vfcm9sZSIsImlhdCI6MTc1OTUyMzY5MiwiZXhwIjoyMDc1MDk5NjkyfQ.DO0l34zfyctO_2pNcP2ZrS4p8LufjxXOSJdoFJoEvZg
SUPABASE_BUCKET_NAME=meeting-audio

# ============================================
# GROQ API CONFIGURATION (for Mistral-7B)
# ============================================
# Get from: https://console.groq.com/keys
GROQ_API_KEY=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
GROQ_MODEL=mixtral-8x7b-32768

# ============================================
# WHISPER API CONFIGURATION
# ============================================
# Option 1: OpenAI Whisper API
# OPENAI_API_KEY=sk-your_openai_api_key_here

# Option 2: Local Whisper (leave OPENAI_API_KEY empty)
WHISPER_MODEL_PATH=/path/to/whisper/models
WHISPER_MODEL_SIZE=base.en

# ============================================
# EMAIL CONFIGURATION (Resend)
# ============================================
# Get from: https://resend.com/api-keys
RESEND_API_KEY=re_amU6p1tM_85hZjP4cJDWZcVrpFQD6SShg
EMAIL_FROM=EchoNote <noreply@echonote.app>

# ============================================
# FILE UPLOAD CONFIGURATION
# ============================================
MAX_FILE_SIZE=10485760
# 10MB in bytes (3 min audio ~3-5MB)
UPLOAD_DIR=./src/uploads
ALLOWED_AUDIO_FORMATS=audio/mpeg,audio/wav,audio/mp3,audio/webm,audio/ogg

# ============================================
# AUDIO PROCESSING CONFIGURATION
# ============================================
MAX_AUDIO_DURATION=180
# Max duration in seconds (3 minutes)
AUDIO_SAMPLE_RATE=16000
# 16kHz for Whisper
AUDIO_CHANNELS=1
# Mono
PYTHON_PATH=python3
# or python, py, depending on your system

# ============================================
# AUTO-DELETION CONFIGURATION
# ============================================
DEFAULT_AUTO_DELETE_DAYS=30
# Default days before audio auto-deletion
CRON_CLEANUP_SCHEDULE=0 2 * * *
# Run cleanup daily at 2 AM

# ============================================
# RATE LIMITING
# ============================================
RATE_LIMIT_WINDOW=15
# Minutes
RATE_LIMIT_MAX_REQUESTS=100
# Max requests per window

# ============================================
# LOGGING CONFIGURATION
# ============================================
LOG_LEVEL=info
# Options: error, warn, info, debug
LOG_FILE_PATH=./logs

# ============================================
# CORS CONFIGURATION
# ============================================
CORS_ORIGIN=http://localhost:3000
# Comma-separated for multiple: http://localhost:3000,https://yourdomain.com

# ============================================
# DEVELOPMENT/TESTING FLAGS
# ============================================
SKIP_EMAIL_SEND=false
# Set to true to skip email sending in development
USE_FFMPEG_FALLBACK=true
# Use FFmpeg if Python audio processing fails
ENABLE_PROCESSING_LOGS=true
# Enable detailed processing logs in database